import{h as ne,L as M,k as I,a1 as fe,a2 as ie,l as se,g as w,d as le,J as te,K as J,M as R,m as C,a3 as ue,N as W,i as Z,j as ve,a4 as S,a5 as $,q as oe,G as K,a6 as D,a7 as Q,a8 as L,V as ce,B as U,a9 as j,x as de,aa as _e,ab as he,ac as pe,ad as Ee,ae as me,af as ge,ag as xe,v as Ae,ah as Te,o as X,ai as z,u as Ie,aj as be,ak as ke,Q as Ce,al as Ne}from"./6mry-X0t.js";function Re(i,e){return e}function we(i,e,a,l){for(var t=[],u=e.length,v=0;v<u;v++)he(e[v].e,t,!0);var d=u>0&&t.length===0&&a!==null;if(d){var h=a.parentNode;pe(h),h.append(a),l.clear(),T(i,e[0].prev,e[u-1].next)}Ee(t,()=>{for(var _=0;_<u;_++){var c=e[_];d||(l.delete(c.k),T(i,c.prev,c.next)),me(c.e,!d)}})}function Se(i,e,a,l,t,u=null){var v=i,d={flags:e,items:new Map,first:null},h=(e&j)!==0;if(h){var _=i;v=I?M(fe(_)):_.appendChild(ie())}I&&se();var c=null,b=!1,f=le(()=>{var o=a();return de(o)?o:o==null?[]:$(o)});ne(()=>{var o=w(f),r=o.length;if(b&&r===0)return;b=r===0;let x=!1;if(I){var E=v.data===te;E!==(r===0)&&(v=J(),M(v),R(!1),x=!0)}if(I){for(var m=null,g,p=0;p<r;p++){if(C.nodeType===8&&C.data===ue){v=C,x=!0,R(!1);break}var n=o[p],s=l(n,p);g=ee(C,d,m,null,n,s,p,t,e,a),d.items.set(s,g),m=g}r>0&&M(J())}I||ye(o,d,v,t,e,l,a),u!==null&&(r===0?c?W(c):c=Z(()=>u(v)):c!==null&&ve(c,()=>{c=null})),x&&R(!0),w(f)}),I&&(v=C)}function ye(i,e,a,l,t,u,v){var q,V,B,Y;var d=(t&_e)!==0,h=(t&(D|L))!==0,_=i.length,c=e.items,b=e.first,f=b,o,r=null,x,E=[],m=[],g,p,n,s;if(d)for(s=0;s<_;s+=1)g=i[s],p=u(g,s),n=c.get(p),n!==void 0&&((q=n.a)==null||q.measure(),(x??(x=new Set)).add(n));for(s=0;s<_;s+=1){if(g=i[s],p=u(g,s),n=c.get(p),n===void 0){var ae=f?f.e.nodes_start:a;r=ee(ae,e,r,r===null?e.first:r.next,g,p,s,l,t,v),c.set(p,r),E=[],m=[],f=r.next;continue}if(h&&He(n,g,s,t),n.e.f&S&&(W(n.e),d&&((V=n.a)==null||V.unfix(),(x??(x=new Set)).delete(n))),n!==f){if(o!==void 0&&o.has(n)){if(E.length<m.length){var N=m[0],A;r=N.prev;var O=E[0],y=E[E.length-1];for(A=0;A<E.length;A+=1)F(E[A],N,a);for(A=0;A<m.length;A+=1)o.delete(m[A]);T(e,O.prev,y.next),T(e,r,O),T(e,y,N),f=N,r=y,s-=1,E=[],m=[]}else o.delete(n),F(n,f,a),T(e,n.prev,n.next),T(e,n,r===null?e.first:r.next),T(e,r,n),r=n;continue}for(E=[],m=[];f!==null&&f.k!==p;)f.e.f&S||(o??(o=new Set)).add(f),m.push(f),f=f.next;if(f===null)continue;n=f}E.push(n),r=n,f=n.next}if(f!==null||o!==void 0){for(var k=o===void 0?[]:$(o);f!==null;)f.e.f&S||k.push(f),f=f.next;var H=k.length;if(H>0){var re=t&j&&_===0?a:null;if(d){for(s=0;s<H;s+=1)(B=k[s].a)==null||B.measure();for(s=0;s<H;s+=1)(Y=k[s].a)==null||Y.fix()}we(e,k,re,c)}}d&&oe(()=>{var G;if(x!==void 0)for(n of x)(G=n.a)==null||G.apply()}),K.first=e.first&&e.first.e,K.last=r&&r.e}function He(i,e,a,l){l&D&&Q(i.v,e),l&L?Q(i.i,a):i.i=a}function ee(i,e,a,l,t,u,v,d,h,_){var c=(h&D)!==0,b=(h&ge)===0,f=c?b?ce(t):U(t):t,o=h&L?U(v):v,r={i:o,v:f,k:u,a:null,e:null,prev:a,next:l};try{return r.e=Z(()=>d(i,f,o,_),I),r.e.prev=a&&a.e,r.e.next=l&&l.e,a===null?e.first=r:(a.next=r,a.e.next=r.e),l!==null&&(l.prev=r,l.e.prev=r.e),r}finally{}}function F(i,e,a){for(var l=i.next?i.next.e.nodes_start:a,t=e?e.e.nodes_start:a,u=i.e.nodes_start;u!==l;){var v=xe(u);t.before(u),u=v}}function T(i,e,a){e===null?i.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function De(i=!1){const e=Ae,a=e.l.u;if(!a)return;let l=()=>ke(e.s);if(i){let t=0,u={};const v=Ce(()=>{let d=!1;const h=e.s;for(const _ in h)h[_]!==u[_]&&(u[_]=h[_],d=!0);return d&&t++,t});l=()=>w(v)}a.b.length&&Te(()=>{P(e,l),z(a.b)}),X(()=>{const t=Ie(()=>a.m.map(be));return()=>{for(const u of t)typeof u=="function"&&u()}}),a.a.length&&X(()=>{P(e,l),z(a.a)})}function P(i,e){if(i.l.s)for(const a of i.l.s)w(a);e()}Ne();export{Re as a,Se as e,De as i};
