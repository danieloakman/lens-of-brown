import{s as t}from"./index.COenp_mL.js";import{b as c,m as b,n as o,g as f,s as a}from"./runtime.DYZrezVq.js";function p(u,e,r){const s=r[e]??(r[e]={store:null,source:b(void 0),unsubscribe:o});if(s.store!==u)if(s.unsubscribe(),s.store=u??null,u==null)s.source.v=void 0,s.unsubscribe=o;else{var n=!0;s.unsubscribe=t(u,i=>{n?s.source.v=i:a(s.source,i)}),n=!1}return f(s.source)}function g(){const u={};return c(()=>{for(var e in u)u[e].unsubscribe()}),u}export{p as a,g as s};
